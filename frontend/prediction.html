<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>IVF Predictor â€“ Clinical Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap -->
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
        rel="stylesheet"
    >

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Page CSS -->
    <link rel="stylesheet" href="prediction.css" />
</head>

<body>

    <!-- ================================
         LEFT SIDEBAR NAVIGATION
    ================================= -->
    <div class="offcanvas offcanvas-start custom-red text-white" tabindex="-1" id="sideMenu">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">Navigation</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
        </div>

        <div class="offcanvas-body">
            <ul class="nav flex-column">
                <li class="nav-item"><a class="nav-link text-white" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="prediction.html">Prediction Tool</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="about.html">About</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="contact.html">Contact</a></li>
            </ul>
        </div>
    </div>

    <!-- ================================
         TOP NAVBAR
    ================================= -->
    <nav class="navbar navbar-dark custom-red">
        <div class="container-fluid">

            <!-- Hamburger triggers left sidebar -->
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sideMenu">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand fw-bold ms-2" href="index.html">IVF Predictor</a>
        </div>
    </nav>


    <!-- ================================
         HEADER
    ================================= -->
    <header class="predict-header">
        <h1>IVF Prediction Tool</h1>
        <p>
            Enter patient clinical & immunological values to generate an AI-based prediction 
            for RIF, RPL, or Combined outcomes.
        </p>
    </header>


    <!-- ================================
         MAIN CONTAINER
    ================================= -->
    <main class="container">

        <!-- ============================
             INPUT FORM
        ============================= -->
        <section class="input-section">

            <h2>Patient Inputs</h2>
            <p class="sub-text">Values should be encoded (0/1) or normalized based on your clinic workflow.</p>

            <div class="row g-4">

                <div class="col-md-4">
                    <label class="form-label">Adenomyosis (0/1)</label>
                    <input id="f_adenomyosis" class="form-control">
                </div>

                <div class="col-md-4">
                    <label class="form-label">Endometriosis (0/1)</label>
                    <input id="f_endometriosis" class="form-control">
                </div>

                <div class="col-md-4">
                    <label class="form-label">Fibroids (0/1)</label>
                    <input id="f_fibroids" class="form-control">
                </div>

                <div class="col-md-4">
                    <label class="form-label">GA (normalized)</label>
                    <input id="f_ga" class="form-control">
                </div>

                <div class="col-md-4">
                    <label class="form-label">PCOS (0/1)</label>
                    <input id="f_pcos" class="form-control">
                </div>

                <div class="col-md-4">
                    <label class="form-label">Th17 (CD4+)</label>
                    <input id="f_th17" class="form-control">
                </div>

                <div class="col-md-4">
                    <label class="form-label">Th17 IL17+/IFN+</label>
                    <input id="f_th17_ifn_pos" class="form-control">
                </div>

                <div class="col-md-4">
                    <label class="form-label">Th17 IL17+/IFN-</label>
                    <input id="f_th17_ifn_neg" class="form-control">
                </div>

                <div class="col-md-4">
                    <label class="form-label">Th17/Treg Ratio</label>
                    <input id="f_treg_ratio" class="form-control">
                </div>

                <!-- Checkbox -->
                <div class="col-12 checkbox-row mt-2">
                    <label class="checkbox-container">
                        <input type="checkbox" id="returnProba" checked />
                        <span>Return Probabilities</span>
                    </label>
                </div>

            </div>

            <button id="predictBtn" class="btn predict-btn mt-4">Predict Outcome</button>

        </section>


        <!-- ============================
             RESULTS (HIDDEN UNTIL READY)
        ============================= -->
        <section id="resultsSection" class="results-section" style="display:none;">
            
            <h2 class="results-title">Prediction Probabilities</h2>

            <canvas id="probaChart"></canvas>

            <h3 class="raw-title">Raw Response</h3>
            <pre id="responseJson">{}</pre>

        </section>

    </main>


    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Your script -->
    <script src="script.js"></script>

</body>
</html>
